environment:
  system-packages:
    - recipe: docker
      version: 1.5-1build1
    - recipe: python3.7
      version: 3.7.3
  build-modules:
    - name: pipenv
      type: script
      steps:
        - "pip3 install pipenv"
      triggers:
        system-packages:
          - python3.7
    - name: python-deps
      type: script
      steps:
        - "pipenv install -d"
      triggers:
        files:
          - Pipfile
          - Pipfile.lock
        modules:
          - pipenv
    - name: other-executables
      type: remote
      url: https://magmastone.net/some_file.sh
    - name: one-time-example
      type: script
      steps:
        - "scripts/seed_db.sh"
      triggers: once # only runs once ever. state file stored in .envy by default
